<p align="center">
  <img width="400" height="400" alt="DonutMatch" src="https://github.com/user-attachments/assets/e23ba4f5-5091-40af-ba7c-89d365da4420" />
</p>

# DonutMatch - –°–∏—Å—Ç–µ–º–∞ Mix –∏ War –º–∞—Ç—á–µ–π –¥–ª—è CS:S

![Version](https://img.shields.io/badge/version-5.11--debug--maphooser--load-blue)
![SourceMod](https://img.shields.io/badge/sourcemod-1.10+-green)
![CS:S](https://img.shields.io/badge/CS:Source-v34-orange)

–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –¥–ª—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ Mix –∏ War –º–∞—Ç—á–µ–π –Ω–∞ —Å–µ—Ä–≤–µ—Ä–∞—Ö Counter-Strike: Source. –ü–æ–ª–Ω–∞—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –≤—Å–µ—Ö —ç—Ç–∞–ø–æ–≤ –∏–≥—Ä—ã - –æ—Ç —Å–±–æ—Ä–∞ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ –¥–æ —Ñ–∏–Ω–∞–ª—å–Ω–æ–≥–æ —Å—á–µ—Ç–∞.

## üöÄ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### üéÆ –†–µ–∂–∏–º—ã –∏–≥—Ä—ã
- **Mix —Ä–µ–∂–∏–º** - –ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π –º–∏–∫—Å —Å –≤—ã–±–æ—Ä–æ–º –∫–∞–ø–∏—Ç–∞–Ω–æ–≤ –∏ –ø–∏–∫–∏–Ω–≥–æ–º –∏–≥—Ä–æ–∫–æ–≤
- **War —Ä–µ–∂–∏–º** - –ö–æ–º–∞–Ω–¥–∞ –Ω–∞ –∫–æ–º–∞–Ω–¥—É —Å –Ω–æ–∂–µ–≤—ã–º —Ä–∞—É–Ω–¥–æ–º –∑–∞ –≤—ã–±–æ—Ä —Å—Ç–æ—Ä–æ–Ω—ã

### ‚öôÔ∏è –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Å–±–æ—Ä –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ (`!ready`)
- ‚úÖ –ù–æ–∂–µ–≤—ã–µ —Ä–∞—É–Ω–¥—ã –∫–∞–ø–∏—Ç–∞–Ω–æ–≤ (Mix)
- ‚úÖ –ü–∏–∫–∏–Ω–≥ –∏–≥—Ä–æ–∫–æ–≤ —á–µ—Ä–µ–∑ –º–µ–Ω—é
- ‚úÖ –í–µ–¥–µ–Ω–∏–µ —Å—á–µ—Ç–∞ –∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ–±–µ–¥–∏—Ç–µ–ª—è
- ‚úÖ –û–≤–µ—Ä—Ç–∞–π–º—ã –ø—Ä–∏ –Ω–∏—á—å–µ–π 15:15 (War)
- ‚úÖ –°–∏—Å—Ç–µ–º–∞ –∑–∞–º–µ–Ω –∏–≥—Ä–æ–∫–æ–≤ (`!ask`)
- ‚úÖ –ê–≤—Ç–æ–ø–æ–¥–±–æ—Ä –∑–∞–º–µ–Ω –ø—Ä–∏ –¥–∏—Å–∫–æ–Ω–Ω–µ–∫—Ç–∞—Ö

### üéØ –ö–æ–º–∞–Ω–¥—ã
| –ö–æ–º–∞–Ω–¥–∞ | –û–ø–∏—Å–∞–Ω–∏–µ | –î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å |
|---------|----------|-------------|
| `!ready` / `!r` | –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –º–∞—Ç—á—É | –í—Å–µ –∏–≥—Ä–æ–∫–∏ |
| `!info` | –°—Ç–∞—Ç—É—Å –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ | –í—Å–µ –∏–≥—Ä–æ–∫–∏ |
| `!knife` | –ó–∞–ø—É—Å–∫ –Ω–æ–∂–µ–≤–æ–≥–æ —Ä–∞—É–Ω–¥–∞ | War —Ä–µ–∂–∏–º |
| `!stay` | –ù–∞—á–∞—Ç—å –±–µ–∑ –Ω–æ–∂–µ–≤–æ–≥–æ | War —Ä–µ–∂–∏–º |
| `!ask` | –ü—Ä–µ–¥–ª–æ–∂–∏—Ç—å –∑–∞–º–µ–Ω—É | Mix —Ä–µ–∂–∏–º |
| `!forcemix` | –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω—ã–π —Å—Ç–∞—Ä—Ç Mix | –ê–¥–º–∏–Ω—ã |
| `!forcewar` | –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω—ã–π —Å—Ç–∞—Ä—Ç War | –ê–¥–º–∏–Ω—ã |

## üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

1. **–°–∫–∞—á–∞–π—Ç–µ –ø–æ—Å–ª–µ–¥–Ω—é—é –≤–µ—Ä—Å–∏—é** —Å–æ [—Å—Ç—Ä–∞–Ω–∏—Ü—ã —Ä–µ–ª–∏–∑–æ–≤](https://github.com/Akllike/DonutMatch/releases)
2. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Ñ–∞–π–ª—ã** –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –ø–∞–ø–∫–∏:
   - `donut_match.smx` ‚Üí `addons/sourcemod/plugins/`
   - `donutmatch.inc` ‚Üí `addons/sourcemod/scripting/include/`
3. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø–∞–ø–∫—É –∫–æ–Ω—Ñ–∏–≥–æ–≤** ‚Üí `cfg/donutmatch/`
4. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã** (—Å–º. –Ω–∏–∂–µ)
5. **–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä** –∏–ª–∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ `sm plugins load donut_match.smx`

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –û—Å–Ω–æ–≤–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
```sourcemod
// cfg/sourcemod/donutmatch.cfg
sm_donut_mode "1"                // 1 - Mix, 2 - War
sm_donut_players_per_side "5"    // 5v5, 4v4, etc
sm_donut_restart_delay "3.5"     // –ó–∞–¥–µ—Ä–∂–∫–∞ –ø–µ—Ä–µ–¥ —Å—Ç–∞—Ä—Ç–æ–º
sm_donut_auto_ready "0"          // –ê–≤—Ç–æ-–≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –Ω–æ–≤—ã—Ö –∏–≥—Ä–æ–∫–æ–≤
sm_donut_sub_time "10"           // –í—Ä–µ–º—è –Ω–∞ –æ—Ç–≤–µ—Ç –¥–ª—è –∑–∞–º–µ–Ω—ã
```

### –§–∞–π–ª—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –º–∞—Ç—á–∞
–ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç–µ –ø–∞–ø–∫—É `cfg/donutmatch/`:

- `donut_warmup.cfg` - –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è —Ä–µ–∂–∏–º–∞ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏
- `donut_mix_start.cfg` - –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è –Ω–∞—á–∞–ª–∞ Mix –º–∞—Ç—á–∞  
- `donut_war_start.cfg` - –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è –Ω–∞—á–∞–ª–∞ War –º–∞—Ç—á–∞
- `donut_mix_end.cfg` - –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ—Å–ª–µ Mix –º–∞—Ç—á–∞
- `donut_war_end.cfg` - –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ—Å–ª–µ War –º–∞—Ç—á–∞
- `donut_war_overtime_start.cfg` - –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è –æ–≤–µ—Ä—Ç–∞–π–º–∞

## üõ†Ô∏è API –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤

–ü–ª–∞–≥–∏–Ω –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –ø–æ–ª–Ω–æ–µ API –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏:

### Forwards (–°–æ–±—ã—Ç–∏—è)
```sourcepawn
DonutMatch_OnPlayerReady(int client, bool ready)
DonutMatch_OnRoundScore(int scoreT, int scoreCT, int winnerTeam) 
DonutMatch_OnMatchStart(const any[] data, int dataSize)
DonutMatch_OnMatchEnd(const any[] data, int dataSize)
```

### Natives (–§—É–Ω–∫—Ü–∏–∏)
```sourcepawn
bool DonutMatch_IsMatchLive()
MatchState DonutMatch_GetMatchState()
bool DonutMatch_GetPlayerReady(int client)
bool DonutMatch_SetPlayerReady(int client, bool ready)
void DonutMatch_GetScore(int &scoreT, int &scoreCT)
bool DonutMatch_ForceStart()
bool DonutMatch_ForceStop(const char[] reason)
```

### –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
```sourcepawn
#include <donutmatch>

public void DonutMatch_OnMatchStart(const any[] data, int dataSize)
{
    GameMode mode;
    int playerCount;
    int players[MAXPLAYERS];
    int teams[MAXPLAYERS];
    
    if (DonutMatch_ParseMatchStartData(data, mode, playerCount, players, teams))
    {
        // –í–∞—à–∞ –ª–æ–≥–∏–∫–∞ –∑–¥–µ—Å—å
    }
}
```

## üé® –°–æ—Å—Ç–æ—è–Ω–∏—è –º–∞—Ç—á–∞

–ü–ª–∞–≥–∏–Ω —É–ø—Ä–∞–≤–ª—è–µ—Ç 8 —Å–æ—Å—Ç–æ—è–Ω–∏—è–º–∏:
1. **ReadySystem** - –û–∂–∏–¥–∞–Ω–∏–µ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏
2. **Warmup** - –†–∞–∑–º–∏–Ω–∫–∞ (—Ç–æ–ª—å–∫–æ War)
3. **CaptainKnife** - –ù–æ–∂–µ–≤–æ–π –∫–∞–ø–∏—Ç–∞–Ω–æ–≤ (—Ç–æ–ª—å–∫–æ Mix)
4. **PickingPlayers** - –í—ã–±–æ—Ä –∏–≥—Ä–æ–∫–æ–≤ (—Ç–æ–ª—å–∫–æ Mix)
5. **KnifeRound_WAR** - –ù–æ–∂–µ–≤–æ–π –∑–∞ —Å—Ç–æ—Ä–æ–Ω—É (—Ç–æ–ª—å–∫–æ War)
6. **Starting** - –ó–∞–ø—É—Å–∫ –º–∞—Ç—á–∞
7. **Live** - –ú–∞—Ç—á –∏–¥–µ—Ç
8. **Overtime** - –û–≤–µ—Ä—Ç–∞–π–º

## üîß –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- **SourceMod 1.10+**
- **Counter-Strike: Source** (–ø—Ä–æ–≤–µ—Ä–µ–Ω–æ –Ω–∞ v34)
- **MapChooser** (–¥–ª—è —Å–º–µ–Ω—ã –∫–∞—Ä—Ç –≤ –∫–æ–Ω—Ü–µ –º–∞—Ç—á–µ–π)

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
addons/sourcemod/
‚îú‚îÄ‚îÄ scripting/
‚îÇ   ‚îú‚îÄ‚îÄ include/
‚îÇ       ‚îî‚îÄ‚îÄ donutmatch.inc    # API –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤
‚îú‚îÄ‚îÄ plugins/
‚îÇ   ‚îî‚îÄ‚îÄ donut_match.smx    # –°–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–ª–∞–≥–∏–Ω
cfg/
‚îî‚îÄ‚îÄ server.cfg
‚îú‚îÄ‚îÄ donutmatch/       # –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –∫–æ–Ω—Ñ–∏–≥–∏
    ‚îú‚îÄ‚îÄ donut_warmup.cfg
    ‚îú‚îÄ‚îÄ donut_mix_start.cfg
    ‚îî‚îÄ‚îÄ ... etc
```

## üêõ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∏ –±–∞–≥–∏

–ù–∞—à–ª–∏ –æ—à–∏–±–∫—É –∏–ª–∏ –µ—Å—Ç—å –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ? 
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ [—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ issues](https://github.com/Akllike/DonutMatch/issues)
2. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤–æ–µ issue —Å –ø–æ–¥—Ä–æ–±–Ω—ã–º –æ–ø–∏—Å–∞–Ω–∏–µ–º
3. –£–∫–∞–∂–∏—Ç–µ –≤–µ—Ä—Å–∏—é –ø–ª–∞–≥–∏–Ω–∞ –∏ —É—Å–ª–æ–≤–∏—è –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è

## üë• –ê–≤—Ç–æ—Ä—ã

- **phenom**(Akllike) - –†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ –∏ –∏–¥–µ–æ–ª–æ–≥
- **root** - –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è

## üí¨ –ü–æ–¥–¥–µ—Ä–∂–∫–∞

- **VK –≥—Ä—É–ø–ø–∞**: [DonutMatch](https://vk.com/jquerry)
- **Telegram**: [DonutMatchTg](https://t.me/donutmatch)

---

‚≠ê –ï—Å–ª–∏ –≤–∞–º –Ω—Ä–∞–≤–∏—Ç—Å—è —ç—Ç–æ—Ç –ø–ª–∞–≥–∏–Ω, –ø–æ—Å—Ç–∞–≤—å—Ç–µ –∑–≤–µ–∑–¥—É –Ω–∞ GitHub!

–ü–ª–∞–≥–∏–Ω –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ—Å—Ç–∞–±–∏–ª–µ–Ω –∏ —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ, –ø–æ—Ç–æ–º—É —á—Ç–æ –æ–Ω –≤ —Å—Ç–∞–¥–∏–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏. –ï—Å–ª–∏ –µ—Å—Ç—å –≤–æ–ø—Ä–æ—Å—ã –∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è, –º–æ–∂–µ—Ç–µ –∑–∞–¥–∞–≤–∞—Ç—å –∏—Ö –≤ Issues.
